\documentclass[a4paper]{article}
\usepackage{geometry}
\usepackage{titling}
\usepackage{parskip}
\geometry{margin=1in}

\title{Cost-Optimized Azure Serverless Architecture}
\author{DevOps Consultant}
\date{June 26, 2025}

\begin{document}

\maketitle

\section*{Overview}
This architecture optimizes costs for a serverless application storing 2 million billing records (300 KB each) in Azure Cosmos DB, with records older than 3 months rarely accessed. The solution reduces costs by tiering data across Azure Cosmos DB, Azure Redis Cache, and Azure Blob Storage Archive Tier, while maintaining API compatibility, ensuring no data loss, and avoiding downtime.

\section*{Architecture Components}
\begin{itemize}
    \item \textbf{Azure Cosmos DB}: Stores recent records (≤3 months) for low-latency access.
    \item \textbf{Azure Redis Cache}: Caches hot records to minimize Cosmos DB read costs.
    \item \textbf{Azure Blob Storage Archive Tier}: Archives older records, reducing storage costs by up to 90\% compared to Cosmos DB \cite{web20}.
    \item \textbf{Azure Functions}: Manages API requests, archival, and rehydration jobs.
    \item \textbf{Internal API Versioning}: Routes reads (Redis → Cosmos DB → Blob) using X-API-Version header.
    \item \textbf{Observability}: Azure Monitor, Log Analytics, and Application Insights with KQL queries detect Redis miss rates, Cosmos DB spikes, and Blob fallbacks.
\end{itemize}

\section*{Cost Optimization Strategy}
\begin{itemize}
    \item \textbf{Storage Tiering}: Move records older than 3 months to Blob Storage Archive Tier (\$0.0018/GB/month vs. \$0.25/GB/month for Cosmos DB) \cite{web15}.
    \item \textbf{Caching}: Redis Cache reduces Cosmos DB read units (RUs) by serving hot data.
    \item \textbf{Automation}: Terraform ensures consistent provisioning; Azure Functions automate archival/rehydration.
    \item \textbf{Monitoring}: KQL queries and alerts identify cost spikes and optimization opportunities.
\end{itemize}

\section*{Benefits}
\begin{itemize}
    \item \textbf{Cost Reduction}: Up to 90\% storage cost savings for archived data and 50\% reduction in read costs via caching.
    \item \textbf{Scalability}: Serverless components auto-scale with demand.
    \item \textbf{Reliability}: No downtime, no data loss, and automated rehydration for frequently accessed records.
    \item \textbf{Observability}: Proactive monitoring with actionable insights.
\end{itemize}

\bibliography{refs}
\bibliographystyle{plain}
\begin{thebibliography}{99}
\bibitem{web15} Azure Database Pricing Examples and 5 Ways to Reduce Your Costs, \url{https://spot.io}, 2024.
\bibitem{web20} Azure Cloud Pricing Explained, \url{https://www.cloudoptimo.com}, 2024.
\end{thebibliography}

\end{document}